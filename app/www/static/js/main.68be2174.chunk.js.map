{"version":3,"sources":["components/MyModal/MyModal.js","components/Main/Main.js","components/Dashboard/Dashboard.js","components/Protected.js","components/Landing/Landing.js","App.js","index.js"],"names":["MyModal","props","_useState","useState","_useState2","Object","slicedToArray","inputs","setInputs","handleChange","event","name","target","value","values","objectSpread","defineProperty","handleModalClose","onChange","react_default","a","createElement","Fragment","Modal","show","showModal","centered","size","Header","closeButton","onClick","Title","Form","onSubmit","preventDefault","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","json","console","log","catch","error","Body","Group","className","Label","Control","type","placeholder","titulo","as","rows","descricao","amount","class","fatura","recibo","Footer","Button","variant","Main","setError","_useState3","_useState4","isLoaded","setIsLoaded","_useState5","_useState6","data","setData","useEffect","Access-Control-Allow-Origin","res","result","message","length","map","item","Col","Card","bg","style","width","Subtitle","Text","publishedBy","publishedOn","Dashboard","navigate","useNavigate","setShowModal","handleModalChange","new_showModal","Navbar","id","Container","Brand","href","Collapse","Row","Protected","_ref","isLoggedIn","children","alert","react_router","to","replace","Landing","App","setisLoggedIn","handleLoginChange","new_value","path","element","components_Protected","ReactDOM","react","react_router_dom","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.68be2174.chunk.js","sourcesContent":["import React, {useState} from \"react\";\n\nimport { Modal, Button, Form} from 'react-bootstrap';\n\nexport function MyModal(props) {\n\n    const [inputs, setInputs] = useState({});\n  \n    const handleChange = (event) => {\n      const name = event.target.name;\n      const value = event.target.value;\n      setInputs(values => ({...values, [name]: value}))\n    }\n  \n    const handleSubmit = (event) => {\n      event.preventDefault();\n  \n      fetch('/bill', {\n        method: 'POST',\n        headers:  {'Content-Type': 'application/json'},\n        body: JSON.stringify(inputs)\n      })\n      .then(response => response.json())\n      .then(inputs => {\n        console.log('Success:', inputs);\n      })\n      .catch((error) => {\n        console.error('Error:', error);\n      });\n    }\n\n    function handleModalClose(event){\n        props.onChange(false)\n    }\n\n    return (\n        <>\n          <Modal show={props.showModal}  centered size=\"lg\">\n            <Modal.Header closeButton onClick={handleModalClose}>\n              <Modal.Title>Adicionar nova conta</Modal.Title>\n            </Modal.Header>\n            <Form onSubmit={handleSubmit}>\n              <Modal.Body>\n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Título</Form.Label>\n                  <Form.Control type=\"text\" placeholder=\"ex: Luz Nov. Tiago\" name=\"titulo\" value={inputs.titulo || \"\"} onChange={handleChange} />\n                </Form.Group>\n  \n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Descrição</Form.Label>\n                  <Form.Control as=\"textarea\" rows={3} name=\"descricao\" value={inputs.descricao || \"\"} onChange={handleChange} />\n                </Form.Group>\n  \n                <Form.Group className=\"mb-3\">\n                  <Form.Label>Total</Form.Label>\n                  <Form.Control type=\"number\" name=\"amount\" value={inputs.amount || \"\"} onChange={handleChange} />\n                </Form.Group>\n  \n                <Form.Group className=\"mb-3\">\n                  <div class=\"d-flex row\">\n                    <div class=\"col\">\n                      <Form.Label>Fatura</Form.Label>\n                      <Form.Control type=\"file\" size=\"sm\" name=\"fatura\" value={inputs.fatura || \"\"} onChange={handleChange} />\n                    </div>\n                    <div class=\"col\">\n                      <Form.Label>Recibo</Form.Label>\n                      <Form.Control type=\"file\" size=\"sm\" name=\"recibo\" value={inputs.recibo || \"\"} onChange={handleChange} />\n                    </div>\n                  </div>\n                </Form.Group>\n  \n              </Modal.Body>\n              <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose} type=\"submit\">\n                  Adicionar\n                </Button>\n              </Modal.Footer>\n            </Form>\n          </Modal>\n        </>\n      );\n}","import React, { useEffect, useState } from 'react'\n\nimport { Card, Col } from 'react-bootstrap';\n\nexport function Main() {\n\n    const [error, setError] = useState(null);\n    const [isLoaded, setIsLoaded] = useState(false);\n    const [data, setData] = useState([]);\n\n    const getData = () => {\n        fetch('http://127.0.0.1:5000/bills', {\n            method: 'GET',\n            headers:  {'Content-Type': 'application/json',\n                        'Access-Control-Allow-Origin': '*'},\n        })\n        .then(res => res.json())\n        .then( (result) => {\n            setIsLoaded(true);\n            console.log(result)\n            setData(result);\n        })\n        .catch((error) => {\n            setIsLoaded(true);\n            setError(error);\n            console.error('Error:', error);\n        });\n    }\n\n    useEffect( () => {\n        getData()\n    }, [])\n\n    if (error) {\n        return <div>Error: {error.message}</div>;\n      } else if (!isLoaded) {\n        return <div>Loading...</div>;\n      } else {\n        return (\n          <>\n            { data && data.length ?\n            data.map( item => (\n                <Col>\n                    <Card bg={\"warning\"} style={{ width: '20rem' }}>\n                    <Card.Body>\n                        <Card.Title>{item.titulo}</Card.Title>\n                        <Card.Subtitle className=\"mb-3 mt-1 text-muted\">{item.descricao}</Card.Subtitle>\n                        <Card.Text>{item.amount}</Card.Text>\n                        <Card.Footer>\n                            <small className=\"text-muted\">por {item.publishedBy} on {item.publishedOn}</small>\n                        </Card.Footer>\n                    </Card.Body>\n                    </Card>\n                </Col>\n            )) : <div>Sem contas para apresentar!</div> }\n          </>\n        );\n      }\n}\n","import React, {useState} from \"react\";\nimport './dashboard.css';\n\nimport { Navbar, Container, Row } from 'react-bootstrap';\nimport { Button } from 'react-bootstrap';\n\nimport { MyModal } from '../MyModal/MyModal';\nimport { Main } from '../Main/Main';\nimport { useNavigate } from \"react-router-dom\";\n\nexport function Dashboard(props) {\n    let navigate = useNavigate();\n  \n    const [showModal, setShowModal] = useState(false);\n\n    function handleModalChange( new_showModal ) {\n      setShowModal(new_showModal);\n    }\n    \n    function handleLogOut() {\n        props.onChange(false);\n        navigate(\"/\");\n    }\n    \n    return (\n      <>\n        <Navbar id=\"Navbar\" bg=\"light\">\n            <Container>\n            <Navbar.Brand href=\"#\">Maison Aveiro</Navbar.Brand>\n            \n            <Navbar.Collapse className=\"justify-content-end\">\n                <Button variant=\"outline-primary\" onClick={handleLogOut}>Log Out</Button>{' '}\n            </Navbar.Collapse>\n            </Container>\n        </Navbar>\n        \n        <Container>\n            <Row >\n                <Main></Main>\n            </Row>\n            <Row className=\"d-flex justify-content-end\">\n                <Button variant=\"primary\" onClick={handleModalChange}>\n                Add Bill\n                </Button>\n            </Row>\n        </Container>\n\n        <MyModal showModal={showModal} onChange={handleModalChange}></MyModal>\n      </>\n    );\n}","import React from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nconst Protected = ({ isLoggedIn, children }) => {\n    if (!isLoggedIn) {\n        alert(\"please login\");\n        return <Navigate to=\"/\" replace />;\n    }\n    return children;\n};\n\nexport default Protected;","import React from \"react\";\nimport { useNavigate } from 'react-router';\nimport { Container, Button } from 'react-bootstrap';\n\nimport \"./landing.css\"\n\nexport function Landing(props) {\n    let navigate = useNavigate();\n\n    function handleLoginChange(event){\n        props.onChange(true)\n    }\n    \n    function handleLogin(){\n        handleLoginChange();\n        navigate('/dashboard');\n    }\n\n    return (\n        <>\n            <Container className=\"d-flex vh-100 justify-content-center align-items-center\">\n                <Button variant=\"primary\" onClick={handleLogin}>Log In</Button>{' '}\n                <Button variant=\"outline-primary\">Sign In</Button>{' '}\n            </Container>\n        </>\n      );\n}\n\n","import React , { useState } from \"react\";\nimport { Routes, Route } from \"react-router-dom\";\n\nimport { Dashboard } from './components/Dashboard/Dashboard'\nimport Protected from \"./components/Protected\";\nimport {Landing} from \"./components/Landing/Landing\"\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\nfunction App() {\n    const [isLoggedIn, setisLoggedIn] = useState(false);\n\n    function handleLoginChange(new_value){\n        setisLoggedIn(new_value);\n    }\n\n    return (\n        <>\n            <Routes>\n                <Route path=\"/\" element={ <Landing isLoggedIn={isLoggedIn} onChange={handleLoginChange}/>} />\n                <Route path=\"/dashboard\" element={<Protected isLoggedIn={isLoggedIn}> <Dashboard onChange={handleLoginChange}/> </Protected>} />\n            </Routes>\n        </>\n    );\n}\n\nexport default App;\n\n","import * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\n\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\")\n);"],"sourceRoot":""}