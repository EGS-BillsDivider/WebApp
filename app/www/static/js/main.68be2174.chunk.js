(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{49:function(e,a,t){e.exports=t(61)},54:function(e,a,t){},58:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),c=t(25),o=t(7),m=t(6),u=(t(54),t(65)),i=t(63),s=t(64),E=t(69),d=t(8),b=t(2),g=t(67),f=t(66);function h(e){var a=Object(n.useState)({}),t=Object(o.a)(a,2),r=t[0],c=t[1],m=function(e){var a=e.target.name,t=e.target.value;c(function(e){return Object(b.a)({},e,Object(d.a)({},a,t))})};function u(a){e.onChange(!1)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{show:e.showModal,centered:!0,size:"lg"},l.a.createElement(g.a.Header,{closeButton:!0,onClick:u},l.a.createElement(g.a.Title,null,"Adicionar nova conta")),l.a.createElement(f.a,{onSubmit:function(e){e.preventDefault(),fetch("/bill",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then(function(e){return e.json()}).then(function(e){console.log("Success:",e)}).catch(function(e){console.error("Error:",e)})}},l.a.createElement(g.a.Body,null,l.a.createElement(f.a.Group,{className:"mb-3"},l.a.createElement(f.a.Label,null,"T\xedtulo"),l.a.createElement(f.a.Control,{type:"text",placeholder:"ex: Luz Nov. Tiago",name:"titulo",value:r.titulo||"",onChange:m})),l.a.createElement(f.a.Group,{className:"mb-3"},l.a.createElement(f.a.Label,null,"Descri\xe7\xe3o"),l.a.createElement(f.a.Control,{as:"textarea",rows:3,name:"descricao",value:r.descricao||"",onChange:m})),l.a.createElement(f.a.Group,{className:"mb-3"},l.a.createElement(f.a.Label,null,"Total"),l.a.createElement(f.a.Control,{type:"number",name:"amount",value:r.amount||"",onChange:m})),l.a.createElement(f.a.Group,{className:"mb-3"},l.a.createElement("div",{class:"d-flex row"},l.a.createElement("div",{class:"col"},l.a.createElement(f.a.Label,null,"Fatura"),l.a.createElement(f.a.Control,{type:"file",size:"sm",name:"fatura",value:r.fatura||"",onChange:m})),l.a.createElement("div",{class:"col"},l.a.createElement(f.a.Label,null,"Recibo"),l.a.createElement(f.a.Control,{type:"file",size:"sm",name:"recibo",value:r.recibo||"",onChange:m}))))),l.a.createElement(g.a.Footer,null,l.a.createElement(E.a,{variant:"primary",onClick:u,type:"submit"},"Adicionar")))))}var p=t(48),v=t(68);function C(){var e=Object(n.useState)(null),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!1),m=Object(o.a)(c,2),u=m[0],i=m[1],s=Object(n.useState)([]),E=Object(o.a)(s,2),d=E[0],b=E[1];return Object(n.useEffect)(function(){fetch("http://127.0.0.1:5000/bills",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}}).then(function(e){return e.json()}).then(function(e){i(!0),console.log(e),b(e)}).catch(function(e){i(!0),r(e),console.error("Error:",e)})},[]),t?l.a.createElement("div",null,"Error: ",t.message):u?l.a.createElement(l.a.Fragment,null,d&&d.length?d.map(function(e){return l.a.createElement(p.a,null,l.a.createElement(v.a,{bg:"warning",style:{width:"20rem"}},l.a.createElement(v.a.Body,null,l.a.createElement(v.a.Title,null,e.titulo),l.a.createElement(v.a.Subtitle,{className:"mb-3 mt-1 text-muted"},e.descricao),l.a.createElement(v.a.Text,null,e.amount),l.a.createElement(v.a.Footer,null,l.a.createElement("small",{className:"text-muted"},"por ",e.publishedBy," on ",e.publishedOn)))))}):l.a.createElement("div",null,"Sem contas para apresentar!")):l.a.createElement("div",null,"Loading...")}function j(e){var a=Object(m.g)(),t=Object(n.useState)(!1),r=Object(o.a)(t,2),c=r[0],d=r[1];function b(e){d(e)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{id:"Navbar",bg:"light"},l.a.createElement(i.a,null,l.a.createElement(u.a.Brand,{href:"#"},"Maison Aveiro"),l.a.createElement(u.a.Collapse,{className:"justify-content-end"},l.a.createElement(E.a,{variant:"outline-primary",onClick:function(){e.onChange(!1),a("/")}},"Log Out")," "))),l.a.createElement(i.a,null,l.a.createElement(s.a,null,l.a.createElement(C,null)),l.a.createElement(s.a,{className:"d-flex justify-content-end"},l.a.createElement(E.a,{variant:"primary",onClick:b},"Add Bill"))),l.a.createElement(h,{showModal:c,onChange:b}))}var y=function(e){var a=e.isLoggedIn,t=e.children;return a?t:(alert("please login"),l.a.createElement(m.a,{to:"/",replace:!0}))};t(58);function O(e){var a=Object(m.g)();return l.a.createElement(l.a.Fragment,null,l.a.createElement(i.a,{className:"d-flex vh-100 justify-content-center align-items-center"},l.a.createElement(E.a,{variant:"primary",onClick:function(){e.onChange(!0),a("/dashboard")}},"Log In")," ",l.a.createElement(E.a,{variant:"outline-primary"},"Sign In")," "))}t(59),t(60);var w=function(){var e=Object(n.useState)(!1),a=Object(o.a)(e,2),t=a[0],r=a[1];function c(e){r(e)}return l.a.createElement(l.a.Fragment,null,l.a.createElement(m.d,null,l.a.createElement(m.b,{path:"/",element:l.a.createElement(O,{isLoggedIn:t,onChange:c})}),l.a.createElement(m.b,{path:"/dashboard",element:l.a.createElement(y,{isLoggedIn:t}," ",l.a.createElement(j,{onChange:c})," ")})))};r.render(n.createElement(c.a,null,n.createElement(w,null)),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.68be2174.chunk.js.map